import{d as T,r as k,q as l,s as r,C as o,v as I,D,E as x,F as M,_ as h,o as L,G as E,H as O,I as W,c as R,J as q,K as v,t as i,L as S,M as V,N as G,O as J,P as Q,i as F,x as B,y as K,Q as N,R as A,S as j,T as P,m as X}from"./entry.1762740f.js";import{u as U,a as Y}from"./deleteMode.9fc795fc.js";const Z={class:"player-tab"},ee=T({__name:"PlayerTab",props:{player:{}},setup(u){const t=k(!1),s=k(),m=()=>{t.value=!0,setTimeout(()=>{s.value.focus()},100)};return(c,a)=>(l(),r("div",Z,[o(t)?D((l(),r("input",{key:1,ref_key:"input",ref:s,"onUpdate:modelValue":a[0]||(a[0]=d=>c.player.name=d),onFocusout:a[1]||(a[1]=()=>t.value=!1),onKeydown:a[2]||(a[2]=M(()=>t.value=!1,["enter"]))},null,544)),[[x,c.player.name]]):(l(),r("div",{key:0,class:"label",onClick:m},I(c.player.name),1))]))}});const te=h(ee,[["__scopeId","data-v-08fe81e0"]]);var z=(u=>(u.desktop="desktop",u.tablet="tablet",u.mobile="mobile",u))(z||{});const ne=()=>{const u=k("desktop"),t=m=>u.value==m,s=()=>{window.innerWidth>768?u.value="desktop":u.value=window.innerWidth>425?"tablet":"mobile"};return L(()=>{s(),window.addEventListener("resize",()=>s())}),t},oe=["onClick"],se=["onClick"],le=["onKeydown"],ae={class:"value"},ue=["onClick"],re=["onClick"],ie=["onKeydown"],ce={class:"value"},de=T({__name:"CounterItem",props:{counterItem:{},counterItemIndex:{}},setup(u){const t=u,s=ne(),{getNextColor:m}=G(),{editCounterItem:c}=E(),a=O(),d=U(),{saveAsTemplate:$}=W(),y=k(!1),b=k(0),p=R(()=>a.value.includes(t.counterItemIndex)),f=k(),w=()=>{if(new Date().getTime()-b.value>500&&!d.value)d.value=!0,a.value.push(t.counterItemIndex);else if(d.value)if(!p.value)a.value.push(t.counterItemIndex);else{const e=a.value.indexOf(t.counterItemIndex);a.value.splice(e,1),a.value.length==0&&(d.value=!1)}else t.counterItem.color=m(t.counterItem.color),c(t.counterItem,t.counterItemIndex),$()},g=()=>{y.value=!0,setTimeout(()=>{f.value.focus()},100)},C=()=>{y.value=!1,c(t.counterItem,t.counterItemIndex)};return(e,n)=>{const H=q("touch");return o(s)(("DEVICES"in e?e.DEVICES:o(z)).desktop)?(l(),r("div",{key:0,class:S(["counter-item",{selected:o(p)&&o(d)}]),style:V({backgroundColor:e.counterItem.color}),onClick:v(w,["stop"]),onPointerdown:n[3]||(n[3]=()=>b.value=new Date().getTime())},[o(y)?D((l(),r("input",{key:1,ref_key:"input",ref:f,"onUpdate:modelValue":n[0]||(n[0]=_=>e.counterItem.name=_),onFocusout:C,onKeydown:M(C,["enter"])},null,40,le)),[[x,e.counterItem.name]]):(l(),r("div",{key:0,class:"title",onClick:v(g,["stop"])},I(e.counterItem.name),9,se)),i("div",{class:"minus",onClick:n[1]||(n[1]=v(_=>e.counterItem.value--,["stop"]))}," - "),i("div",ae,I(e.counterItem.value),1),i("div",{class:"add",onClick:n[2]||(n[2]=v(_=>e.counterItem.value++,["stop"]))}," + ")],46,oe)):D((l(),r("div",{key:1,class:S(["counter-item",{selected:o(p)&&o(d)}]),style:V({backgroundColor:e.counterItem.color}),onClick:v(w,["stop"]),onPointerdown:n[7]||(n[7]=()=>b.value=new Date().getTime())},[o(y)?D((l(),r("input",{key:1,ref_key:"input",ref:f,"onUpdate:modelValue":n[4]||(n[4]=_=>e.counterItem.name=_),onFocusout:C,onKeydown:M(C,["enter"])},null,40,ie)),[[x,e.counterItem.name]]):(l(),r("div",{key:0,class:"title",onClick:v(g,["stop"])},I(e.counterItem.name),9,re)),i("div",{class:"minus",onClick:n[5]||(n[5]=v(_=>e.counterItem.value--,["stop"]))}," - "),i("div",ce,I(e.counterItem.value),1),i("div",{class:"add",onClick:n[6]||(n[6]=v(_=>e.counterItem.value++,["stop"]))}," + ")],46,ue)),[[H,w,"longtap"]])}}});const me=h(de,[["__scopeId","data-v-8432a977"]]),pe={class:"counter-container"},ve={class:"player-selector"},_e={class:"players-container"},Ie={class:"counter-items-container"},ye=T({__name:"CounterContainer",setup(u){const t=J(),s=Q(),m=U(),{addCounterItem:c,selectedPlayer:a,deleteCounterItems:d}=E(),$=()=>{s.value>0&&s.value--},y=()=>{s.value<t.value.players.length-1&&s.value++};return(b,p)=>{const f=te,w=F("Slide"),g=F("Carousel"),C=me;return l(),r("div",pe,[i("div",ve,[B(g,{itemsToShow:1,wrapAround:!1,transition:500,modelValue:o(s),"onUpdate:modelValue":p[0]||(p[0]=e=>j(s)?s.value=e:null)},{default:K(()=>[(l(!0),r(N,null,A(o(t).players,(e,n)=>(l(),P(w,{key:"slide_player_"+n},{default:K(()=>[i("div",_e,[i("div",{class:"prev",onClick:$},I(o(s)>0?"<":""),1),(l(),P(f,{player:e,key:"player_"+n},null,8,["player"])),i("div",{class:"next",onClick:y},I(o(s)<o(t).players.length-1?">":""),1)])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),i("div",Ie,[(l(!0),r(N,null,A(o(a).counterItems,(e,n)=>(l(),P(C,{counterItem:e,key:"counterItem_"+n,counterItemIndex:n},null,8,["counterItem","counterItemIndex"]))),128))]),i("div",{class:S(["add-counter",{delete:o(m)}]),onClick:p[1]||(p[1]=()=>{o(m)?o(d)():o(c)()})},null,2)])}}});const Ce=h(ye,[["__scopeId","data-v-a1780c4b"]]),ke={class:"content"},be=T({__name:"index",setup(u){X({title:"Custom Counter"});const{disableDeleteMode:t}=Y();return(s,m)=>{const c=Ce;return l(),r("div",ke,[B(c,{onClick:o(t)},null,8,["onClick"])])}}});export{be as default};
