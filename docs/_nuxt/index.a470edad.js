import{d as x,r as v,q as a,s as r,C as n,v as y,D as h,E as V,F as N,_ as b,G as A,H as E,I as H,c as O,J as k,t as i,K as F,L as U,M as z,N as L,O as R,i as P,x as K,y as D,P as S,Q as M,R as q,S as $,m as G}from"./entry.283c82b6.js";import{u as B,a as J}from"./deleteMode.6addafa5.js";const Q={class:"player-tab"},j=x({__name:"PlayerTab",props:{player:{}},setup(I){const e=v(!1),t=v(),d=()=>{e.value=!0,setTimeout(()=>{t.value.focus()},100)};return(s,o)=>(a(),r("div",Q,[n(e)?h((a(),r("input",{key:1,ref_key:"input",ref:t,"onUpdate:modelValue":o[0]||(o[0]=m=>s.player.name=m),onFocusout:o[1]||(o[1]=()=>e.value=!1),onKeydown:o[2]||(o[2]=N(()=>e.value=!1,["enter"]))},null,544)),[[V,s.player.name]]):(a(),r("div",{key:0,class:"label",onClick:d},y(s.player.name),1))]))}});const W=b(j,[["__scopeId","data-v-08fe81e0"]]),X=["onClick"],Y=["onClick"],Z=["onKeydown"],ee={class:"value"},te=x({__name:"CounterItem",props:{counterItem:{},counterItemIndex:{}},setup(I){const e=I,{getNextColor:t}=z(),{editCounterItem:d}=A(),s=E(),o=B(),{saveAsTemplate:m}=H(),p=v(!1),C=v(0),T=O(()=>s.value.includes(e.counterItemIndex)),_=v(),g=()=>{if(new Date().getTime()-C.value>500&&!o.value)o.value=!0,s.value.push(e.counterItemIndex);else if(o.value)if(!T.value)s.value.push(e.counterItemIndex);else{const u=s.value.indexOf(e.counterItemIndex);s.value.splice(u,1),s.value.length==0&&(o.value=!1)}else e.counterItem.color=t(e.counterItem.color),m()},w=()=>{p.value=!0,setTimeout(()=>{_.value.focus()},100)},f=()=>{p.value=!1,d(e.counterItem,e.counterItemIndex)};return(u,l)=>(a(),r("div",{class:F(["counter-item",{selected:n(T)&&n(o)}]),style:U({backgroundColor:u.counterItem.color}),onClick:k(g,["stop"]),onPointerdown:l[3]||(l[3]=()=>C.value=new Date().getTime())},[n(p)?h((a(),r("input",{key:1,ref_key:"input",ref:_,"onUpdate:modelValue":l[0]||(l[0]=c=>u.counterItem.name=c),onFocusout:f,onKeydown:N(f,["enter"])},null,40,Z)),[[V,u.counterItem.name]]):(a(),r("div",{key:0,class:"title",onClick:k(w,["stop"])},y(u.counterItem.name),9,Y)),i("div",{class:"minus",onClick:l[1]||(l[1]=k(c=>u.counterItem.value--,["stop"]))}," - "),i("div",ee,y(u.counterItem.value),1),i("div",{class:"add",onClick:l[2]||(l[2]=k(c=>u.counterItem.value++,["stop"]))}," + ")],46,X))}});const ne=b(te,[["__scopeId","data-v-ab794cf1"]]),se={class:"counter-container"},oe={class:"player-selector"},le={class:"players-container"},ae={class:"counter-items-container"},ue=x({__name:"CounterContainer",setup(I){const e=L(),t=R(),d=B(),{addCounterItem:s,selectedPlayer:o,deleteCounterItems:m}=A(),p=()=>{t.value>0&&t.value--},C=()=>{t.value<e.value.players.length-1&&t.value++};return(T,_)=>{const g=W,w=P("Slide"),f=P("Carousel"),u=ne;return a(),r("div",se,[i("div",oe,[K(f,{itemsToShow:1,wrapAround:!1,transition:500,modelValue:n(t),"onUpdate:modelValue":_[0]||(_[0]=l=>q(t)?t.value=l:null)},{default:D(()=>[(a(!0),r(S,null,M(n(e).players,(l,c)=>(a(),$(w,{key:"slide_player_"+c},{default:D(()=>[i("div",le,[i("div",{class:"prev",onClick:p},y(n(t)>0?"<":""),1),(a(),$(g,{player:l,key:"player_"+c},null,8,["player"])),i("div",{class:"next",onClick:C},y(n(t)<n(e).players.length-1?">":""),1)])]),_:2},1024))),128))]),_:1},8,["modelValue"])]),i("div",ae,[(a(!0),r(S,null,M(n(o).counterItems,(l,c)=>(a(),$(u,{counterItem:l,key:"counterItem_"+c,counterItemIndex:c},null,8,["counterItem","counterItemIndex"]))),128))]),i("div",{class:F(["add-counter",{delete:n(d)}]),onClick:_[1]||(_[1]=()=>{n(d)?n(m)():n(s)()})},null,2)])}}});const re=b(ue,[["__scopeId","data-v-a1780c4b"]]),ce={class:"content"},_e=x({__name:"index",setup(I){G({title:"Custom Counter"});const{disableDeleteMode:e}=J();return(t,d)=>{const s=re;return a(),r("div",ce,[K(s,{onClick:n(e)},null,8,["onClick"])])}}});export{_e as default};
